<app-header></app-header>
<div *ngIf="addType === 'product'" class="max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-gray-800">Add New Product</h2>
    
    <form (submit)="addProduct()" class="space-y-4">
      <!-- Product Name -->
      <div>
        <label for="productName" class="block text-sm font-medium text-gray-700">Product Name</label>
        <input
          type="text"
          id="productName"
          name="name"
          [(ngModel)]="product.name"
          required
          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        />
      </div>
  
      <!-- Product Price -->
      <div>
        <label for="productPrice" class="block text-sm font-medium text-gray-700">Price</label>
        <input
          type="number"
          id="productPrice"
          name="price"
          [(ngModel)]="product.price"
          required
          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        />
      </div>
  
      <!-- Product Stock -->
      <div>
        <label for="productStock" class="block text-sm font-medium text-gray-700">Stock</label>
        <input
          type="number"
          id="productStock"
          name="stock"
          [(ngModel)]="product.stock"
          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        />
      </div>
  
      <!-- Product Description -->
      <div>
        <label for="productDescription" class="block text-sm font-medium text-gray-700">Description</label>
        <textarea
          id="productDescription"
          name="description"
          [(ngModel)]="product.description"
          rows="3"
          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        ></textarea>
      </div>
  
      <!-- Parent Category -->
      <div>
        <label for="parentCategory" class="block text-sm font-medium text-gray-700">Parent Category</label>
        <select
            id="parentCategory"
            name="parentCategory"
            [(ngModel)]="selectedParentCategory"
            (change)="onParentCategoryChange($event)"
            required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        >
            <option value="" disabled>Select a Parent Category</option>
            <option *ngFor="let category of parentCategories" [value]="category.id">
                {{ category.name }}
            </option>
        </select>
      </div>

    <!-- Children Categories -->
    <div>
        <label for="childrenCategory" class="block text-sm font-medium text-gray-700">Children Category</label>
        <select
            id="childrenCategory"
            name="childrenCategory"
            [(ngModel)]="product.categoryId"
            [disabled]="!selectedParentCategory" 
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        >
            <option value="" disabled>Select a Children Category</option>
            <option *ngFor="let child of childrenCategories" [value]="child.id">
                {{ child.name }}
            </option>
        </select>
      </div>
  
      <!-- Product Image URL -->
      <div>
        <label for="productImageUrl" class="block text-sm font-medium text-gray-700">Image URL</label>
        <input
          type="text"
          id="productImageUrl"
          name="imageUrl"
          [(ngModel)]="product.imageUrl"
          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        />
      </div>
  
      <!-- Quantity -->
      <div>
        <label for="productQuantity" class="block text-sm font-medium text-gray-700">Quantity</label>
        <input
          type="number"
          id="productQuantity"
          name="quantity"
          [(ngModel)]="product.quantity"
          class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        />
      </div>
  
      <!-- Submit Button -->
      <div>
        <button
          type="submit"
          class="w-full inline-flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
        >
          Add Product
        </button>
      </div>
    </form>
  </div>
  